<Window x:Class="TinyClips.Windows.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="TinyClips for Windows 11"
        Height="560"
        Width="760"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <StackPanel>
            <TextBlock Text="TinyClips" FontSize="28" FontWeight="SemiBold" />
            <TextBlock Margin="0,4,0,0" Opacity="0.8"
                       Text="Screenshot, GIF and MP4 region capture for Windows 11 (.NET 9)." />
        </StackPanel>

        <UniformGrid Grid.Row="1" Columns="3" Margin="0,18,0,18">
            <Button Margin="0,0,8,0" Padding="12" Content="Screenshot" Click="OnScreenshotClicked" />
            <Button Margin="4,0,4,0" Padding="12" Content="Record Video" Click="OnRecordVideoClicked" />
            <Button Margin="8,0,0,0" Padding="12" Content="Record GIF" Click="OnRecordGifClicked" />
        </UniformGrid>

        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="12" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <GroupBox Header="General" Grid.Column="0">
                <StackPanel Margin="10">
                    <CheckBox Content="Copy screenshot to clipboard" IsChecked="{Binding Settings.CopyToClipboard}" Margin="0,0,0,8" />
                    <CheckBox Content="Reveal output in Explorer" IsChecked="{Binding Settings.OpenFolderAfterSave}" Margin="0,0,0,8" />
                    <TextBlock Text="Save directory" />
                    <DockPanel Margin="0,4,0,0">
                        <TextBox Text="{Binding Settings.SaveDirectory}" IsReadOnly="True" Margin="0,0,8,0" />
                        <Button Padding="8,4" Content="Browse" Click="OnBrowseFolderClicked" />
                    </DockPanel>
                    <Button Margin="0,12,0,0" Padding="8" Content="Open Save Folder" Click="OnOpenFolderClicked" />
                </StackPanel>
            </GroupBox>

            <GroupBox Header="Recording" Grid.Column="2">
                <StackPanel Margin="10">
                    <TextBlock Text="Video FPS" />
                    <ComboBox SelectedValue="{Binding Settings.VideoFrameRate}" SelectedValuePath="Content" Margin="0,4,0,10">
                        <ComboBoxItem Content="24" />
                        <ComboBoxItem Content="30" />
                        <ComboBoxItem Content="60" />
                    </ComboBox>

                    <CheckBox Content="Video countdown" IsChecked="{Binding Settings.VideoCountdownEnabled}" Margin="0,0,0,4" />
                    <TextBox Text="{Binding Settings.VideoCountdownDuration}" Margin="0,0,0,10" />

                    <TextBlock Text="GIF FPS (5-30)" />
                    <TextBox Text="{Binding Settings.GifFrameRate}" Margin="0,4,0,8" />
                    <TextBlock Text="GIF max width (320-1920)" />
                    <TextBox Text="{Binding Settings.GifMaxWidth}" Margin="0,4,0,10" />

                    <CheckBox Content="GIF countdown" IsChecked="{Binding Settings.GifCountdownEnabled}" Margin="0,0,0,4" />
                    <TextBox Text="{Binding Settings.GifCountdownDuration}" Margin="0,0,0,8" />

                    <Button Padding="8" Content="Stop Active Recording" Click="OnStopRecordingClicked" />
                </StackPanel>
            </GroupBox>
        </Grid>

        <TextBlock Grid.Row="3" Margin="0,14,0,0" TextWrapping="Wrap" Text="{Binding StatusMessage}" />
    </Grid>
</Window>
